# EBS と RAID、IOPS の学習ノート

## EBS の RAID 構成

### RAID 1（冗長化）

**ミラーリング**と呼ばれる冗長化方式

#### 特徴
- 同じデータを2つ以上のディスクに同時に書き込む
- データが複数のディスクに複製される
- 1つのディスクが故障してもデータは失われない
- **可用性の向上**が目的

### RAID 0（パフォーマンス向上）

**ストライピング**：データを複数のディスクに分散して書き込み

#### メリット
- **読み書き速度の向上**：複数のディスクを並列利用するため高速化
- **容量の合計利用**：全ディスク容量を無駄なく使用可能
- I/O 処理が並列化される
- スループットが大幅に向上
- レイテンシが改善される場合がある

#### デメリット
- **冗長化なし**：1つでもディスクが故障すると全データが失われる
- **可用性は低下**：ディスク台数が増えるほど故障リスクが高まる
- RAID 1 とは正反対の性質

### RAID 比較

| RAID タイプ | 重視する点 | 特徴 |
|-------------|------------|------|
| **RAID 0** | 速度重視、安全性は犠牲 | 高速化、冗長性なし |
| **RAID 1** | 安全性重視、速度は並行読み出しで多少向上 | 冗長化、容量半減 |

## IOPS（Input/Output Operations Per Second）

### 定義
ストレージ装置（HDD、SSD、NVMe、クラウドストレージなど）が**1秒間に処理できる入出力（読み書き）回数**を示す性能指標

### 高 IOPS とは

**1秒あたりに大量の入出力処理をこなせるストレージ**を指す

特に**小さいサイズのランダムアクセス**が多いワークロードで重要
- データベース
- トランザクション処理
- 仮想マシンの I/O

## EBS のボリュームタイプ

### gp3（汎用 SSD）
- **デフォルト**: 3,000 IOPS
- **最大**: 16,000 IOPS まで設定可能
- スループットも別途設定できる

### io1/io2（プロビジョンド IOPS SSD）
- **最大**: 64,000 IOPS
- **Nitro ベースのインスタンス**: 最大 256,000 IOPS
- **用途**: 高 IOPS が必要なデータベースに向いている