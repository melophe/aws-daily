# AWS Global Accelerator

## 概要

### 定義
**AWS ネットワークを使ってグローバルにユーザーからのアクセスを最適化するサービス**

### 仕組み

1. **アクセス**: ユーザーは Global Accelerator が提供する **2つの固定IP** にアクセス
2. **ネットワーク**: トラフィックは **AWS のグローバルバックボーンネットワーク** に乗る
3. **ルーティング**: ユーザーに最も近い **エッジロケーション** から AWS 内に入り、ヘルシーなエンドポイント（ALB / NLB / EC2 / EIP など）へルーティング

> **本質**: 「AWS 内の高速ネットワークに最短ルートでユーザーを誘導する仕組み」

## メリット

### 1. パフォーマンス向上
- **最適化**: 通常のインターネット経路より、AWS グローバルネットワークを通す方が遅延が小さい

### 2. 高可用性
- **ヘルスチェック**: エンドポイントのヘルスチェックを実施
- **フェイルオーバー**: 障害があれば別リージョンに即座にルーティング

### 3. 固定IP
- **Anycast IP**: Route 53 の DNS 解決ではなく、固定の Anycast IP を提供
- **高速切り替え**: DNS キャッシュの影響を受けにくい（切り替えが速い）

## CloudFront との違い

### 比較表

| サービス | 目的 | 特徴 |
|---------|------|------|
| **CloudFront** | コンテンツ配信（CDN） | キャッシュして静的・動的コンテンツを効率的に配信 |
| **Global Accelerator** | トラフィックの最適ルーティング | アプリそのものを加速 |

### 用途別の選択指針

- **Web サイトの配信** → **CloudFront**
- **API / ゲーム / VoIP / SaaS アプリ** → **Global Accelerator**

## まとめ

### サービスの位置づけ
**AWS Global Accelerator** = 世界中のユーザーからのアクセスを AWS グローバルネットワークに最適ルーティングするサービス

### 主要特徴
- **固定IP**
- **低遅延**
- **高可用性**

### 主要ユースケース
- マルチリージョン API
- ゲーム
- 金融アプリ
- VoIP

## Global Accelerator の構成要素

### 1. アクセラレーター（Accelerator）

#### 役割
- 入口となるリソース

#### 固定IP
- **2つの Anycast IP** が払い出される

#### 特徴
- 世界中のエッジロケーションから同じ IP をアナウンス

### 構成階層

```
Accelerator (固定Anycast IP)
   └── Listener (ポート/プロトコル指定, 例: TCP 80/443)
          └── Endpoint Group (リージョン単位, ヘルスチェック/重み付け設定)
                  └── Endpoint (ALB / NLB / EC2 / Elastic IP)
```

## Anycast IP の仕組み

### 基本動作
1. **広告**: 同じ IP を世界中の AWS エッジロケーションから広告
2. **吸収**: ユーザーは一番近いエッジに吸い込まれる
3. **転送**: そこから AWS バックボーンで最適なリージョンへ転送

### Elastic IP との違い

| IPタイプ | 範囲 | 特徴 |
|----------|------|------|
| **Elastic IP（Unicast）** | 1リージョン限定 | 特定リージョンでのみ利用 |
| **Anycast IP** | グローバル | 世界中で同じIPを利用可能 |

## 詳細ユースケース

### 🌍 グローバルユーザー向け低遅延アクセス
- **適用例**: SaaS、API、ゲーム、動画配信

### 💡 マルチリージョン冗長化 / DR
- **効果**: 東京が落ちてもバージニアに自動フェイルオーバー

### 🔒 固定IPが必要な場合
- **適用例**: B2B接続やファイアウォールホワイトリスト

### 🎮 リアルタイム通信
- **効果**: ゲームやVoIPでミリ秒単位の遅延削減

## 総括

**Global Accelerator** は、世界共通の固定Anycast IPを入口にして、最寄りのリージョンの ALB/NLB/EC2 にトラフィックを届ける仕組み