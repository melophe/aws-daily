# TCP vs UDP 比較

## TCP (Transmission Control Protocol)

### 特徴

- コネクション型（接続を確立してから通信する）
- 信頼性が高い（パケットの順序保証・再送制御あり）
- エラーチェックやフロー制御も実施

### 使われる場面

信頼性が必須な通信

### 例
SSH (22), HTTP/HTTPS (80/443), FTP (21), SMTP (25), MySQL (3306)

---

## UDP (User Datagram Protocol)

### 特徴

- コネクションレス型（事前の接続確立なしで送る）
- 信頼性が低い（パケット順序保証なし・再送制御なし）
- その分オーバーヘッドが小さくて速い

### 使われる場面

- リアルタイム性が重要な通信
- 多少のパケットロスを許容できるケース

### 例
DNS (53), DHCP (67/68), VoIP, 動画ストリーミング, ゲーム通信

---

## SSH の場合

セキュアで確実な接続が必要なので TCP を使用

UDP ではパケット欠落や順序乱れが起きても補正しないため、SSHのようなインタラクティブ通信には不向き

---

## 結論

- **TCP** = 信頼性重視（正確に届けたい）
- **UDP** = スピード重視（多少落ちてもいい）

SSH は TCP を使用する

---

## L4の代表プロトコル

### TCP
- コネクション型（3ウェイハンドシェイクで接続確立）
- 順序保証・再送制御あり → 信頼性高い
- 使用例：SSH, HTTP(S), FTP, SMTP など

### UDP
- コネクションレス型（投げっぱなし）
- 順序保証なし・再送制御なし → 軽量・低レイテンシ
- 使用例：DNS, DHCP, VoIP, 動画ストリーミング, ゲーム通信など

---

## まとめ

どちらも L4の役割を担うが、信頼性 vs スピードで使い分けされる