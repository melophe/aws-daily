
# AWS関連キーワード集

## SMB (Server Message Block)

### 定義
**SMB = Server Message Block**

### 特徴
- **対象**: Windows系で主に使われるファイル共有プロトコル
- **機能**: ネットワーク越しにファイルやプリンタなどのリソースを共有する仕組み

### 用語の理解
- **SMBプロトコル**: ファイル共有のプロトコル
- **SMBファイル**: SMB共有に置かれているファイルを指す

## ファイルゲートウェイモード

**AWS Storage Gateway** というサービスの中のモードのひとつ

## SLA (Service Level Agreement)

### 定義
**SLA = サービス品質保証**

### 内容
- AWSが公式に「可用性を◯%以上保証します」と定めた数値
- **例**: SLA 99.99% → 年間のダウンタイムは約52分未満

## PoP (Point of Presence)

### 定義
**PoP = Point of Presence**

通信事業者やクラウド事業者が設置するネットワーク接続拠点

> インターネットや専用線を介してユーザーがクラウドに入る「入口」みたいなもの

### AWSにおけるPoPの例

#### 1. Site-to-Site VPN
- オンプレからAWSへVPNを張るとき
- AWS側のVPNエンドポイントがPoPに配置される

#### 2. Direct Connect
- AWS DXの接続先として、世界中のDXロケーション（PoP）が用意されている

#### 3. CloudFront/Global Accelerator
- エッジロケーション（これもPoPの一種）を通じてユーザーがAWSネットワークに入る

## ゼロトラスト

### 定義
**「すべてのアクセスを信用しない」ことを前提に設計するセキュリティモデル**

### 従来モデルとの違い

#### 従来のセキュリティモデル（境界防御モデル）
- 社内ネットワークに入ったら「信用できる」
- 社外から来たら「信用できない」
- **問題**: 「城と堀」型の考え方

#### ゼロトラストモデル
すべてのアクセスを検証・認証する

### ゼロトラストの4つの原則

#### 1. 認証・認可の徹底
- **IDベース制御**: IAM, SSO, MFA を活用
- **サービス間通信**: アプリやサービス同士の通信にも証明書や署名を利用
  - 例: App Mesh の mTLS

#### 2. 暗号化の徹底
- **通信暗号化**: 内部通信も含めて TLS で暗号化
- **データ保護**: 
  - at-rest（保存時）
  - in-transit（通信時）
  - 両方を保護

#### 3. 最小権限アクセス
- **必要最小限**: 必要なリソースにだけアクセスを許可
- **権限管理**: 使わないときは権限を取り消す

#### 4. 継続的な監視
- **監視ツール**: CloudWatch, GuardDuty, Security Hub などで常時モニタリング
- **即座対応**: 不審な挙動があれば即ブロック

キャパシティプロバイダーとは？

ECS に「どのキャパシティをどの割合で使うか」を教える設定

ECS サービスやタスクを起動するときに、自動でそのルールに従ってキャパシティを使い分ける


egress の意味

egress = 外向き通信

ingress（内向き通信）に対する言葉

VPC の外（インターネットや他のネットワーク）に出ていく通信のことを「egress」と呼ぶ

🔹 egress VPC とは？

インターネットへのアウトバウンド通信を一元的に管理するための専用 VPC を指すことが多いです。

アプリケーション VPC は直接インターネットに出ない

代わりに egress VPC 経由でインターネットに出る

セキュリティと監査を強化できる
典型的な構成

アプリ VPC（Web/API サーバーやバッチがいる）

直接インターネットに出ない

egress VPC に対して VPC Peering / Transit Gateway / PrivateLink で接続

egress VPC（インターネット出口専用）

NAT Gateway / Firewall / Proxy を配置

CloudTrail, VPC Flow Logs でモニタリング

インターネットアクセスを集約管理

なんで使うの？

セキュリティ統制

すべての外向き通信を egress VPC 経由にすることで、通信を可視化・制御できる

コスト最適化

NAT Gateway を各 VPC に置くより、1つの egress VPC にまとめたほうが安い場合がある

監査対応

「どの通信が外に出ているか」を 1か所でログ監査できる

App VPC1 ─┐
App VPC2 ─┼──> [Egress VPC] ──> Internet
App VPC3 ─┘

🔹 Unicast（Elastic IPなど）の場合

IP アドレス = 1つのサーバーやロードバランサーに直結

どこからアクセスしても、その特定リージョンまでトラフィックが行く

例: 東京に Elastic IP を持つ EC2

東京のユーザー → 速い

アメリカのユーザー → 東京まで遠回りなので遅い

🔹 Anycast（Global Accelerator）の場合

IP アドレス = 世界中で共通

最寄りの AWS エッジロケーションに吸い込まれ、そこから AWS バックボーンで目的のリージョンに最適ルーティング

例: Global Accelerator の Anycast IP

東京のユーザー → 東京のエッジに入って東京リージョンへ

アメリカのユーザー → アメリカのエッジに入ってバージニアリージョンへ