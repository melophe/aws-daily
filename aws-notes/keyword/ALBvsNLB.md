# ALB (Application Load Balancer)

## 基本情報
- **OSIレイヤー**: L7 (アプリケーション層)
- **対応プロトコル**: HTTP, HTTPS, gRPC

## 機能
- **コンテンツベースルーティング**（パス / ホストベースルーティング）
- **WebSocket** サポート
- **WAF (AWS WAF)** と統合可能
- **OIDC / Cognito** などのユーザー認証連携

## ユースケース
- Webアプリケーション (HTTP/HTTPS)
- マイクロサービス (URLルーティング)
- 認証が必要なWebシステム

---

# NLB (Network Load Balancer)

## 基本情報
- **OSIレイヤー**: L4 (ネットワーク層)
- **対応プロトコル**: TCP, UDP, TLS

## 機能
- **超低レイテンシ**（ミリ秒未満）
- **毎秒数百万リクエスト処理可能**
- **固定IPアドレス**を持てる
- **Global Accelerator** との親和性が高い

## ユースケース
- 金融取引やゲームのような**低レイテンシ・高スループット通信**
- VoIPやストリーミングなど**UDPを使うアプリ**
- **Global Accelerator**を使ってグローバル最適化したい場合

---

# 違いのまとめ表

| 項目 | **ALB (Application)** | **NLB (Network)** |
|------|----------------------|-------------------|
| **レイヤー** | L7 (HTTP/HTTPS/gRPC) | L4 (TCP/UDP/TLS) |
| **適したアプリ** | Webアプリ、API、マイクロサービス | 高速通信、ゲーム、金融取引 |
| **ルーティング** | パスベース / ホストベース | ポート / プロトコルベース |
| **スループット** | 高いがNLBよりは劣る | 数百万リクエストを超低遅延処理 |
| **固定IP** | ❌ (可変) | ✅ (固定IP or EIP割当可) |
| **WAF対応** | ✅ | ❌ |
| **認証機能** | ✅ (Cognito/OIDC連携) | ❌ |
| **Global Accelerator** | △ (使えるが限定的) | ◎ (最適な組み合わせ) |

---

# まとめ

**ALB** = **L7向け** (Web/HTTPアプリ向け)

**NLB** = **L4向け** (超低レイテンシ/大量トラフィック/UDPも対応)

**Global Acceleratorと組み合わせたいならNLBがベスト**