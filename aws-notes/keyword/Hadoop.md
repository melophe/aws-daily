# Apache Hadoop

## 概要

**オープンソースの分散処理フレームワーク**

「大量データを複数の安価なサーバーに分散して並列処理する」仕組み

- **位置づけ**: ビッグデータ処理の代表的な基盤
- **普及期**: 2000年代後半〜2010年代にかけて爆発的に普及

## 主要コンポーネント

### HDFS (Hadoop Distributed File System)
- **機能**: 分散ファイルシステム
- **動作**: 大きなデータを複数ノードに分割して保存
- **特徴**: 冗長化されるので耐障害性もあり

### YARN (Yet Another Resource Negotiator)
- **機能**: リソース管理とジョブスケジューラ
- **役割**: 「どのノードでどの処理を走らせるか」を決める

### MapReduce
- **機能**: 分散処理モデル
- **処理フロー**: データを「分割(Map) → 並列処理 → 集約(Reduce)」して分析

## 主な用途・機能

- 数TB〜PB級のデータを低コストなサーバー群で処理
- ログ解析、クリックストリーム分析、検索エンジンのインデックス作成などで利用

## AWSとの関係

### Amazon EMR (Elastic MapReduce)
- **概要**: HadoopやSparkをクラウドで簡単に使えるマネージドサービス
- **メリット**: HDFSの代わりに S3 をストレージとして使える（これが超便利）

### EMRの特徴
- **範囲**: 「Hadoop専用サービス」ではない
- **対応フレームワーク**:
  - Hadoop
  - Spark  
  - Hive
  - Presto
  - HBase
  - Flink
- **総合性**: ビッグデータ処理系をまとめてサポート

### AWSでの推奨構成
- **サービス**: Amazon EMR を使う
- **ストレージ**: S3 を使う（HDFSの代替）
- **メリット**:
  - 自分でEC2に Hadoop を入れるより圧倒的に運用が楽
  - ストレージに S3 を使えるのでスケーラブル & 耐久性も抜群
  - Spark や Hive も一緒に使える

### オンプレミス対応
**AWS Outposts**: Amazon EMRをオンプレミス環境で利用可能
- Apache Hadoop、Apache Hive、Apache Spark、Prestoのクラスターを
- クラウドと同様にセットアップ、デプロイ、管理、スケーリング

## Hadoopの現状

### 過去の地位
- かつてはビッグデータ処理の代名詞

### 現在の課題
- **運用が複雑**
- **リアルタイム処理が苦手**

### 現在のトレンド
最近は以下にシフト：
- Apache Spark
- クラウドのサーバーレス基盤（Athena, BigQuery など）

## 役割の整理

| サービス | 役割 |
|---------|------|
| **DataSync** | ストレージ間の転送屋さん |
| **EMR** | 処理屋さん |

> 簡単に言うと**分析するためのサービス**